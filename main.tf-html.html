<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>80adbaeb-12a6-456f-bee0-fc8947668882</title><meta name="author" content="Ols"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 p { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; margin:0pt; }
</style></head><body><p style="padding-top: 1pt;padding-left: 9pt;text-indent: -4pt;line-height: 166%;text-align: left;">provider &quot;aws&quot; { region = &quot;ap-south-1&quot;</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_vpc&quot; &quot;my_vpc&quot; { cidr_block = &quot;10.0.0.0/16&quot; enable_dns_support = true enable_dns_hostnames = true tags = {</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Name = &quot;my-vpc&quot;</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_subnet&quot; &quot;public_subnet&quot; { vpc_id  = aws_vpc.my_vpc.id cidr_block = &quot;10.0.1.0/24&quot;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 166%;text-align: left;">availability_zone = &quot;ap-south-1a&quot; # Adjust as needed map_public_ip_on_launch = true</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;public-subnet&quot;</p><p style="padding-top: 8pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_subnet&quot; &quot;private_subnet&quot; { vpc_id  = aws_vpc.my_vpc.id cidr_block = &quot;10.0.2.0/24&quot;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 13pt;text-align: left;">availability_zone = &quot;ap-south-1a&quot; # Adjust as needed</p><p style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;private-subnet&quot;</p><p style="padding-top: 8pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_internet_gateway&quot; &quot;igw&quot; { vpc_id = aws_vpc.my_vpc.id</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;my-igw&quot;</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_route_table&quot; &quot;public_route_table&quot; { vpc_id = aws_vpc.my_vpc.id</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">route {</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">cidr_block = &quot;0.0.0.0/0&quot;</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">gateway_id = aws_internet_gateway.igw.id</p><p style="padding-top: 8pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;public-route-table&quot;</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_route_table_association&quot; &quot;public_route_table_assoc&quot; { subnet_id  = aws_subnet.public_subnet.id</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 13pt;text-align: left;">route_table_id = aws_route_table.public_route_table.id</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: -4pt;line-height: 168%;text-align: left;">resource &quot;aws_security_group&quot; &quot;web_sg&quot; { vpc_id = aws_vpc.my_vpc.id</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: -4pt;line-height: 168%;text-align: left;">egress { from_port = 0</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 166%;text-align: left;">to_port  = 0 protocol = &quot;tcp&quot;</p><p style="padding-left: 14pt;text-indent: 0pt;text-align: left;">cidr_blocks = [&quot;0.0.0.0/0&quot;]</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: -4pt;line-height: 168%;text-align: left;">ingress { from_port = 80</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 166%;text-align: left;">to_port  = 80 protocol = &quot;tcp&quot;</p><p style="padding-left: 14pt;text-indent: 0pt;text-align: left;">cidr_blocks = [&quot;0.0.0.0/0&quot;]</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: -4pt;line-height: 168%;text-align: left;">ingress { from_port = 443</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 166%;text-align: left;">to_port  = 443 protocol = &quot;tcp&quot;</p><p style="padding-left: 14pt;text-indent: 0pt;text-align: left;">cidr_blocks = [&quot;0.0.0.0/0&quot;]</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;web-sg&quot;</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 6pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">resource &quot;aws_instance&quot; &quot;web_instance&quot; {</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;line-height: 168%;text-align: left;">ami   = &quot;ami-0e53db6fd757e38c7&quot; # Example AMI; choose one suitable for your region instance_type = &quot;t2.micro&quot;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 166%;text-align: left;">subnet_id  = aws_subnet.public_subnet.id vpc_security_group_ids = [aws_security_group.web_sg.id]</p><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">user_data = &lt;&lt;-EOF</p><p style="padding-top: 8pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">#!/bin/bash</p><p style="padding-top: 9pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">sudo apt-get update</p><p style="padding-top: 9pt;padding-left: 39pt;text-indent: 0pt;line-height: 167%;text-align: left;">sudo apt-get install -y nginx sudo systemctl start nginx sudo systemctl enable nginx EOF</p><p style="padding-top: 9pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">tags = {</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Name = &quot;web-instance&quot;</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">output &quot;instance_public_ip&quot; {</p><p style="padding-top: 9pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">value = aws_instance.web_instance.public_ip</p><p style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p></body></html>
